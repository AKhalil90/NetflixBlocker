// list of blocked movies
var blockedMovies = ["You", "Argo", "Black Mirror", "Modern Family"];

// get list of blocked movies
function getBlockedMovies() {
  return blockedMovies;
}

// once page is being loaded
document.addEventListener("DOMContentLoaded", function(){
  blockedMovies = getBlockedMovies(); // get list of blocked blockMovies
  blockMovies(); // start blocking movies on the page
});

// once user scrolls the page
document.addEventListener("scroll", function(){
  blockMovies(); // continue blocking movies that is added to the page while scrolling
});

// block movies on the page
function blockMovies() {
  var moviesNamesElements = document.getElementsByClassName("fallback-text"); // get all classes "fallback-text" from the current page

  // loop over all movies found in the page
  for (i = 0; i < moviesNamesElements.length; i++) {
    // check if the movie is blocked, and have not being blocked earlier
    if (isMovieBlocked(moviesNamesElements[i].innerText) && !(moviesNamesElements[i].getAttribute("alreadyBlocked") == "yes")) {
      moviesNamesElements[i].setAttribute("alreadyBlocked", "yes"); // highlight it as blocked
      disableClicking(moviesNamesElements[i]); // disable clicking on blocked movie
      changeMovieCover(moviesNamesElements[i]); // change movie cover
    }
  }
}

// check if movie is blocked
function isMovieBlocked(movieName) {
  return blockedMovies.includes(movieName);
}

// disable clicking on a blocked movie
function disableClicking(movieNameElement) {
  var movieTile = findAncestor(movieNameElement, "slider-item"); // get movie tile
  // display an alert box with a message once the movie tile is clicked
  movieTile.addEventListener("click", function(e){
    e.preventDefault();
    e.stopPropagation();
    alert("This movie is blocked!");
  }, false);
}

// change the cover image of the movie
function changeMovieCover(movieNameElement) {
  var movieCover = findAncestor(movieNameElement, "boxart-container").getElementsByClassName("boxart-image")[0]; // get the movie cover image
  movieCover.src = getBlockedMovieCoverImage(); // change the movie cover image
}

// find ancestor of an element using class name
function findAncestor(el, cls) {
  while ((el = el.parentElement) && !el.classList.contains(cls));
  return el;
}

// get blocked movie cover image
function getBlockedMovieCoverImage() {
  return "data:image/jpeg;base64,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";
}
